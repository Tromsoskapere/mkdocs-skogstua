name: Deploy to GitHub Pages

# Kjører hver gang du pusher til 'main'-grenen
on:
  push:
    branches:
      - main

# Gir workflown tillatelse til å skrive til repoet (nødvendig for å pushe)
permissions:
  contents: write

jobs:
  deploy:
    runs-on: ubuntu-latest # Bruker en standard Linux-maskin
    
    steps:
    # 1. Sjekker ut koden fra repoet
    - name: ⬇️ Checkout code
      uses: actions/checkout@v4

    # 2. Setter opp Python
    - name: 🐍 Set up Python
      uses: actions/setup-python@v5
      with:
        python-version: 3.x

    # 3. Installerer MkDocs og alle pluginene
    - name: 📦 Install MkDocs & Plugins
      run: |
        pip install mkdocs-material
        pip install mkdocs-awesome-nav
        # pip install mkdocs-section-index
        # pip install mkdocs-macros-plugin
        pip install mkdocs-pagetree-plugin
        # Legg til 'pip install ...' for andre plugins her
        # Legg til 'pip install ...' for andre plugins her

    # 4. Bygger og deployer til GitHub Pages
    # --force = tvinger oppdateringen
    # --clean = rydder før den bygger
    - name: 🚀 Deploy to GitHub Pages
      run: mkdocs gh-deploy --force --clean

